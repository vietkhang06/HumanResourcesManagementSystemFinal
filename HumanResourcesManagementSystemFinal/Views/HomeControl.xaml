<UserControl x:Class="HumanResourcesManagementSystemFinal.Views.HomeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:HumanResourcesManagementSystemFinal.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="900">

    <UserControl.DataContext>
        <vm:HomeViewModel/>
    </UserControl.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="White" CornerRadius="10" Margin="0,0,10,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="👥  Tổng Nhân Viên" Foreground="#718096" FontSize="14" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding TotalEmployees}" Foreground="#2D3748" FontSize="32" FontWeight="Bold" Margin="0,10,0,0"/>
                    <TextBlock Text="+2 tháng này" Foreground="#48BB78" FontSize="12" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Background="White" CornerRadius="10" Margin="10,0,10,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="🏢  Phòng Ban" Foreground="#718096" FontSize="14" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding TotalDepartments}" Foreground="#2D3748" FontSize="32" FontWeight="Bold" Margin="0,10,0,0"/>
                    <TextBlock Text="Hoạt động ổn định" Foreground="#A0AEC0" FontSize="12" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="2" Background="White" CornerRadius="10" Margin="10,0,10,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="📝  Đơn Chờ Duyệt" Foreground="#718096" FontSize="14" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding PendingLeaves}" Foreground="#DD6B20" FontSize="32" FontWeight="Bold" Margin="0,10,0,0"/>
                    <TextBlock Text="Cần xử lý ngay" Foreground="#E53E3E" FontSize="12" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="3" Background="White" CornerRadius="10" Margin="10,0,0,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="⚠️  HĐ Sắp Hết Hạn" Foreground="#718096" FontSize="14" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding ExpiringContracts}" Foreground="#E53E3E" FontSize="32" FontWeight="Bold" Margin="0,10,0,0"/>
                    <TextBlock Text="Trong 30 ngày tới" Foreground="#A0AEC0" FontSize="12" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
        </Grid>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="White" CornerRadius="10" Margin="0,0,10,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Nhân Viên Mới Gia Nhập" FontSize="18" FontWeight="Bold" Foreground="#2D3748" Margin="0,0,0,15"/>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding RecentEmployees}" 
                              AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                              GridLinesVisibility="Horizontal" Background="White" BorderThickness="0"
                              HeadersVisibility="Column">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding EmployeeID}" Width="50"/>
                            <DataGridTextColumn Header="Họ và Tên" Binding="{Binding FullName}" Width="*"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="1.5*"/>
                            <DataGridTextColumn Header="SĐT" Binding="{Binding PhoneNumber}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>

            <Border Grid.Column="1" Background="White" CornerRadius="10" Margin="10,0,0,0" Padding="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Chức Năng Nhanh" FontSize="18" FontWeight="Bold" Foreground="#2D3748" Margin="0,0,0,15"/>

                    <Button Content="➕  Thêm Nhân Viên Mới" Height="45" Margin="0,0,0,10"
                            Background="#EBF8FF" Foreground="#2B6CB0" BorderThickness="0" FontWeight="SemiBold" Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="5"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button Content="📅  Tạo Bảng Chấm Công" Height="45" Margin="0,0,0,10"
                            Background="#F0FFF4" Foreground="#2F855A" BorderThickness="0" FontWeight="SemiBold" Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="5"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button Content="✉️  Gửi Thông Báo Chung" Height="45" Margin="0,0,0,10"
                            Background="#FFF5F5" Foreground="#C53030" BorderThickness="0" FontWeight="SemiBold" Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="5"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Border Background="#F7FAFC" CornerRadius="5" Padding="15" Margin="0,20,0,0">
                        <StackPanel>
                            <TextBlock Text="💡 Ghi chú:" FontWeight="Bold" Foreground="#4A5568"/>
                            <TextBlock Text="Đừng quên chốt lương trước ngày 25 hàng tháng nhé!" TextWrapping="Wrap" Margin="0,5,0,0" Foreground="#718096"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>