<Window x:Class="HumanResourcesManagementSystemFinal.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:HumanResourcesManagementSystemFinal.ViewModels"
        mc:Ignorable="d"
        Title="Hệ thống Đăng nhập" Height="550" Width="900"
        WindowStartupLocation="CenterScreen" 
        WindowStyle="None" 
        ResizeMode="NoResize"
        AllowsTransparency="True" 
        Background="Transparent">

    <d:Window.DataContext>
        <d:DesignInstance Type="{x:Type vm:LoginViewModel}" IsDesignTimeCreatable="False"/>
    </d:Window.DataContext>

    <Border Background="#f9f8f6" CornerRadius="25">
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" ShadowDepth="5" Opacity="0.3" Color="#202020"/>
        </Border.Effect>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.2*"/>
                <!-- Cột Trái -->
                <ColumnDefinition Width="*"/>
                <!-- Cột Phải -->
            </Grid.ColumnDefinitions>

            <!-- === CỘT TRÁI: ẢNH NỀN BLUR + GRADIENT === -->
            <!-- ClipToBounds="True" để cắt phần ảnh thừa bị blur ra ngoài -->
            <Border Grid.Column="0" CornerRadius="25,0,0,25" ClipToBounds="True">
                <Grid>
                    <!-- LỚP 1: ẢNH NỀN (Thay đường dẫn ảnh của bạn vào đây) -->
                    <!-- Tôi dùng link ảnh online mẫu để bạn thấy hiệu ứng ngay. -->
                    <!-- Bạn hãy thay Source bằng: /Images/TenHinhCuaBan.jpg -->
                    <Image Source="/Images/png1.png" 
                           HorizontalAlignment="Right"
                           Stretch="UniformToFill">
                        <Image.Effect>
                            <!-- Hiệu ứng làm mờ ảnh -->
                            <BlurEffect Radius="15" KernelType="Gaussian"/>
                        </Image.Effect>
                    </Image>

                    <!-- LỚP 2: LỚP PHỦ MÀU (OVERLAY) -->
                    <!-- Giúp ảnh tối đi và ám màu tím để chữ trắng nổi bật hơn -->
                    <Rectangle>
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                               <!-- <GradientStop Color="#CC4F46E5" Offset="0.0"/>-->
                                <!-- Màu tím xanh (trong suốt ~80%) -->
                                <!--<GradientStop Color="#CC7C3AED" Offset="1.0"/>-->
                                <!-- Màu tím đậm (trong suốt ~80%) -->
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>

                    <!-- LỚP 3: NỘI DUNG CHỮ & LOGO -->
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Border Width="80" Height="80" Background="White" CornerRadius="40" Margin="0,0,0,20" Opacity="0.9">
                            <TextBlock Text="HR" FontSize="30" FontWeight="Bold" Foreground="#102f76" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>

                        <TextBlock Text="HRMS PRO" FontSize="36" FontWeight="Bold" Foreground="#f9f8f6" 
                                   HorizontalAlignment="Center" TextOptions.TextFormattingMode="Display">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" BlurRadius="5" Opacity="0.5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <TextBlock Text="Hệ thống Quản trị Nhân sự" FontSize="16" Foreground="#f9f8f6" 
                                   HorizontalAlignment="Center" Margin="0,10,0,0" Opacity="0.9"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- === CỘT PHẢI: FORM ĐĂNG NHẬP (Giữ nguyên) === -->
            <Grid Grid.Column="1">

                <!-- Nút Đóng chung -->

                <Button Click="CloseButton_Click" 

                        Content="✕" HorizontalAlignment="Right" VerticalAlignment="Top"

                        Width="30" Height="30" Margin="0,15,15,0" Panel.ZIndex="100"

                        Background="Transparent" BorderThickness="0" Foreground="#999"

                        FontSize="16" Cursor="Hand"/>



                <!-- Nơi hiển thị LoginControl hoặc ForgotPasswordControl -->

                <ContentControl x:Name="MainContent" />

            </Grid>

        </Grid>

    </Border>

</Window>