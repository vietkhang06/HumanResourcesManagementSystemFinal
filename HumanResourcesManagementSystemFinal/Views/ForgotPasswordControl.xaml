<UserControl x:Class="HumanResourcesManagementSystemFinal.Views.ForgotPasswordControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewmodels="clr-namespace:HumanResourcesManagementSystemFinal.ViewModels"
             d:DataContext="{d:DesignInstance Type=viewmodels:ForgotPasswordViewModel}"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="400"
             Background="Transparent">

    <UserControl.Resources>
        <SolidColorBrush x:Key="PrimaryColor" Color="#102f76"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#4285F4"/>
        <SolidColorBrush x:Key="GrayText" Color="#777"/>
        <SolidColorBrush x:Key="InputBackground" Color="#F5F7FA"/>

        <Geometry x:Key="IconUser">M11.9999 17C15.6623 17 18.8649 18.5751 20.607 20.9247L18.765 21.796C17.3473 20.1157 14.8473 19 11.9999 19C9.15248 19 6.65252 20.1157 5.23479 21.796L3.39355 20.9238C5.13576 18.5747 8.33796 17 11.9999 17ZM11.9999 2C14.7613 2 16.9999 4.23858 16.9999 7V10C16.9999 12.6888 14.8776 14.8818 12.2168 14.9954L11.9999 15C9.23847 15 6.9999 12.7614 6.9999 10V7C6.9999 4.31125 9.1222 2.11818 11.783 2.00462L11.9999 2ZM11.9999 4C10.4022 4 9.09623 5.24892 9.00499 6.82373L8.9999 7V10C8.9999 11.6569 10.343 13 11.9999 13C13.5976 13 14.9036 11.7511 14.9948 10.1763L14.9999 10V7C14.9999 5.34315 13.6567 4 11.9999 4Z</Geometry>
        <Geometry x:Key="IconPhone">M9.36556 10.6821C10.302 12.3288 11.6712 13.698 13.3179 14.6344L14.2024 13.3961C14.4965 12.9845 15.0516 12.8573 15.4956 13.0998C16.9024 13.8683 18.4571 14.3353 20.0789 14.4637C20.599 14.5049 21 14.9389 21 15.4606V19.9234C21 20.4361 20.6122 20.8657 20.1022 20.9181C19.5723 20.9726 19.0377 21 18.5 21C9.93959 21 3 14.0604 3 5.5C3 4.96227 3.02742 4.42771 3.08189 3.89776C3.1343 3.38775 3.56394 3 4.07665 3H8.53942C9.0611 3 9.49513 3.40104 9.5363 3.92109C9.66467 5.54288 10.1317 7.09764 10.9002 8.50444C11.1427 8.9484 11.0155 9.50354 10.6039 9.79757L9.36556 10.6821ZM6.84425 10.0252L8.7442 8.66809C8.20547 7.50514 7.83628 6.27183 7.64727 5H5.00907C5.00303 5.16632 5 5.333 5 5.5C5 12.9558 11.0442 19 18.5 19C18.667 19 18.8337 18.997 19 18.9909V16.3527C17.7282 16.1637 16.4949 15.7945 15.3319 15.2558L13.9748 17.1558C13.4258 16.9425 12.8956 16.6915 12.3874 16.4061L12.3293 16.373C10.3697 15.2587 8.74134 13.6303 7.627 11.6707L7.59394 11.6126C7.30849 11.1044 7.05754 10.5742 6.84425 10.0252Z</Geometry>
        <Geometry x:Key="IconEmail">M22 14H20V7.23792L12.0718 14.338L4 7.21594V19H14V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V14ZM4.51146 5L12.0619 11.662L19.501 5H4.51146ZM19 22L15.4645 18.4645L16.8787 17.0503L19 19.1716L22.5355 15.636L23.9497 17.0503L19 22Z</Geometry>

        <Style x:Key="ModernTextBoxStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource InputBackground}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Height" Value="40"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#BBB"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="MainButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="15" Background="{TemplateBinding Background}" 
                                Effect="{Binding RelativeSource={RelativeSource Mode=Self}, Path=(Effect)}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource SecondaryColor}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" CenterX="100" CenterY="20"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCC"/>
                                <Setter Property="Foreground" Value="Gray"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <UserControl.Triggers>
        <EventTrigger RoutedEvent="UserControl.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="MainCard" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.6"/>
                    <ThicknessAnimation Storyboard.TargetName="MainCard" Storyboard.TargetProperty="Margin" From="0,40,0,0" To="25" Duration="0:0:0.6" DecelerationRatio="0.9"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </UserControl.Triggers>

    <Grid>
        <Border x:Name="MainCard" Background="White" CornerRadius="20" Margin="25" VerticalAlignment="Center" MaxWidth="380">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30" ShadowDepth="5" Direction="270" Color="#B0C4DE" Opacity="0.5"/>
            </Border.Effect>

            <StackPanel Margin="30,30">

                <TextBlock Text="QUÊN MẬT KHẨU" FontSize="24" FontWeight="Bold" 
                           Foreground="{StaticResource PrimaryColor}" 
                           HorizontalAlignment="Center" Margin="0,-12,0,5"/>

                <TextBlock Text="Tên đăng nhập" FontWeight="SemiBold" Foreground="{StaticResource PrimaryColor}" Margin="5,0,0,5"/>
                <Border Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Path Data="{StaticResource IconUser}" Fill="{StaticResource GrayText}" Stretch="Uniform" Width="14" HorizontalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}" 
                                 VerticalContentAlignment="Center" BorderThickness="0" Background="Transparent" Padding="0,0,10,0"/>
                    </Grid>
                </Border>

                <TextBlock Text="Số điện thoại" FontWeight="SemiBold" Foreground="{StaticResource PrimaryColor}" Margin="5,0,0,5"/>
                <Border Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Path Data="{StaticResource IconPhone}" Fill="{StaticResource GrayText}" Stretch="Uniform" Width="14" HorizontalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding PhoneNumber, UpdateSourceTrigger=PropertyChanged}" 
                                 VerticalContentAlignment="Center" BorderThickness="0" Background="Transparent" Padding="0,0,10,0"/>
                    </Grid>
                </Border>

                <TextBlock Text="Email đăng ký" FontWeight="SemiBold" Foreground="{StaticResource PrimaryColor}" Margin="5,0,0,5"/>
                <Border Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,25">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Path Data="{StaticResource IconEmail}" Fill="{StaticResource GrayText}" Stretch="Uniform" Width="14" HorizontalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding EmailAddress, UpdateSourceTrigger=PropertyChanged}" 
                                 VerticalContentAlignment="Center" BorderThickness="0" Background="Transparent" Padding="0,0,10,0"/>
                    </Grid>
                </Border>

                <Button Command="{Binding SubmitRequestCommand}" Content="GỬI YÊU CẦU"
                        Style="{StaticResource MainButtonStyle}" Height="45" Margin="0,-10,0,0"> 
                    <Button.Effect>
                        <DropShadowEffect Color="#102f76" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
                    </Button.Effect>
                </Button>

                <Button Command="{Binding SwitchToLoginCommand}" Content="← Quay lại Đăng nhập"
                        Margin="0,10,0,0" HorizontalAlignment="Center"
                        Background="Transparent" BorderThickness="0" 
                        Foreground="{StaticResource SecondaryColor}" Cursor="Hand" FontSize="13" FontWeight="SemiBold">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <TextBlock Text="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}"/>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

            </StackPanel>
        </Border>
    </Grid>
</UserControl>